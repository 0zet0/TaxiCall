import{d as F,b as P,u as N,l as R,y as j,x as m,e as E,A as T,B as W,C as z,r as _,o as v,c as H,w as a,a as o,g as e,h as s,f as O,t as p,E as C,m as g,H as Z,p as q,k as G,j as y,_ as J}from"./index-8b483585.js";import{R as A,_ as K}from"./index.vue_vue_type_script_setup_true_lang-4a507dba.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang-afbfb581.js";import{S as U}from"./index-a7043f5b.js";import{g as S}from"./index-d7fceea3.js";const n=u=>(q("data-v-966217a5"),u=u(),G(),u),X={class:"order-detail-page"},Y={class:"order-detail-page__wrapper size-full"},ee={class:"order-detail-page__card top flex flex-col items-center w-full"},se={key:0,class:"flex flex-col items-center mt-20 gap-8"},te={class:"font-700-24 auto-truncate"},oe={class:"font-400-18 auto-truncate"},ae={key:1,class:"flex mt-25"},re={class:"--center flex-col gap-7 w-full"},le=n(()=>e("img",{alt:"Silhouette of a person's head",src:"https://ionicframework.com/docs/img/demos/avatar.svg"},null,-1)),ne={class:"order-detail-page__text font-400-12 text-center"},ce={class:"order-detail-page__address flex flex-col w-full mt-25"},de={class:"flex gap-20 items-center w-full"},ie=n(()=>e("span",{class:"order-detail-page__address_circle"},null,-1)),_e={class:"flex gap-20 items-center justify-between w-full"},pe={class:"font-400-16 truncate"},ue=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.11568 7.50005L4.55762 2.94199L5.4415 2.05811L10.8834 7.50005L5.4415 12.942L4.55762 12.0581L9.11568 7.50005Z",fill:"#00CCFF"})],-1)),fe=n(()=>e("div",{class:"flex gap-25 w-full"},[e("span",{class:"w-15"}),e("div",{class:"order-detail-page__address_line"})],-1)),me={class:"flex gap-20 items-center w-full"},ve=n(()=>e("span",{class:"order-detail-page__address_rect"},null,-1)),ge={class:"flex gap-20 items-center justify-between w-full"},he={class:"font-400-16 truncate"},we={class:"order-detail-page__card --center flex-col gap-7 w-full mt-25"},xe=n(()=>e("span",{class:"order-detail-page__text font-400-12 text-center"},[y(" Отменить "),e("br"),y(" заказ ")],-1)),ke=F({__name:"order-detail-page",setup(u){const r=P();N();const t=R(),$=j(),c=m(),f=m(!0),b=E(),d=m(),B=async()=>{if(!t.selectedActiveOrders.id)return;await t.cancelOrders(t.selectedActiveOrders.id)?(d.value.$el.message="Ваш заказ успешно отменен.",d.value.$el.present(),r.backPage()):(d.value.$el.message="Не удалось отменить заказ!",d.value.$el.present())};return T(async()=>{await W(),f.value=!0,c.value.$el.present(),r.showMenu=!0,$.show=!0,r.toggle=i=>{f.value=!i,r.show=!i,i?c.value.$el.dismiss():b.currentRoute.value.name==="OrderDetailPage"&&c.value.$el.present()}}),z(()=>{f.value=!1,c.value.$el.dismiss(),r.showMenu=!1}),(i,l)=>{const L=_("ion-avatar"),D=_("ion-modal"),I=_("ion-toast"),M=_("ion-content"),V=_("ion-page");return v(),H(V,null,{default:a(()=>[o(M,{fullscreen:!0},{default:a(()=>[e("div",X,[o(D,{ref_key:"modal",ref:c,style:{"--height":"auto"},"initial-breakpoint":1,breakpoints:[0,1],"is-open":!0,"backdrop-breakpoint":.5,onDidDismiss:l[2]||(l[2]=()=>f.value&&s(r).backPage())},{default:a(()=>[e("div",Y,[o(s(U),{class:"flex flex-col items-center",height:"auto"},{default:a(()=>{var h,w,x,k;return[e("div",ee,[s(t).selectedActiveOrders.performer?(v(),O("div",se,[e("span",te,p("За рулем ".concat(((h=s(t).selectedActiveOrders.performer)==null?void 0:h.first_name)||"Водитель")),1),e("span",oe,p("".concat(((w=s(t).selectedActiveOrders.performer.transport)==null?void 0:w.color)||""," ").concat(((x=s(t).selectedActiveOrders.performer.transport)==null?void 0:x.model)||"")),1)])):C("",!0),s(t).selectedActiveOrders.performer?(v(),O("div",ae,[e("div",re,[o(L,{class:"w-55 h-55"},{default:a(()=>[le]),_:1}),e("span",ne,p((k=s(t).selectedActiveOrders.performer)==null?void 0:k.first_name),1)])])):C("",!0),e("div",ce,[e("div",de,[ie,o(s(A),{class:"w-full h-60 flex items-center rounded-10 pl-5 pr-5",onClick:l[0]||(l[0]=g(()=>{},["prevent","stop"]))},{default:a(()=>[e("div",_e,[e("span",pe,p(s(S)(s(t).selectedActiveOrders.from_address,!0)),1),ue])]),_:1})]),fe,e("div",me,[ve,o(s(A),{class:"w-full h-60 flex items-center rounded-10 pl-5 pr-5"},{default:a(()=>[e("div",ge,[e("span",he,p(s(S)(s(t).selectedActiveOrders.to_addresses[0],!0)),1),o(s(K),{onClick:l[1]||(l[1]=g(()=>{},["prevent","stop"]))})])]),_:1})])])]),e("div",we,[o(s(Z),{class:"w-55 h-55",background:"#F5F4F2",color:"#000",onClick:g(B,["prevent","stop"])},{default:a(()=>[o(s(Q))]),_:1},8,["onClick"]),xe])]}),_:1})])]),_:1},512),o(I,{ref_key:"toast",ref:d,message:"Ваш заказ успешно отменен.",duration:4e3},null,512)])]),_:1})]),_:1})}}});const $e=J(ke,[["__scopeId","data-v-966217a5"]]);export{$e as default};
