import{d as U,l as X,b as Y,u as ee,I as S,x as g,e as te,A as se,C as le,r as B,o as c,c as V,w as r,a as i,g as e,h as t,t as _,f as w,E as x,j as oe,m as T,J as D,K as L,q as N,n as R,F as O,L as ae,P as ne,H as re,M as ie,N as de,O as ce,p as _e,k as pe,v as ue,_ as fe}from"./index-8b483585.js";import{R as Z,_ as he}from"./index.vue_vue_type_script_setup_true_lang-4a507dba.js";import{S as z}from"./index-a7043f5b.js";import{a as E,S as A}from"./swiper-slide-979bce00.js";const n=C=>(_e("data-v-72fbcb25"),C=C(),pe(),C),ve={class:"create-order-page"},ge={class:"flex flex-col pt-15 w-full"},we={class:"create-order-page__wrapper flex flex-col w-full"},me={class:"create-order-page__title --center"},xe={class:"create-order-page__text font-500-18"},Ce={key:0,class:"p-20 w-full"},ke=["placeholder","value"],be={key:1,class:"--center"},ye={key:2,class:"w-full p-20"},Ie={key:3,class:"flex flex-col pl-20 pr-20 pb-50 gap-30 pt-25"},Le=n(()=>e("span",{class:"font-400-16"},"Через 10 минут",-1)),$e=n(()=>e("span",{class:"font-400-16"},"Через 15 минут",-1)),Se=n(()=>e("div",{class:"create-order-page__line"},null,-1)),Be=n(()=>e("span",{class:"create-order-page__text font-400-16 truncate"},"Заказ другому человеку",-1)),Ve=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.80099 7.70715C8.19151 7.31663 8.19151 6.68346 7.80099 6.29294L4.66639 3.15834C4.43858 2.93053 4.43858 2.56118 4.66639 2.33338C4.89419 2.10557 5.26354 2.10557 5.49134 2.33338L9.4509 6.29294C9.84143 6.68346 9.84143 7.31663 9.4509 7.70715L5.49134 11.6667C5.26354 11.8945 4.89419 11.8945 4.66639 11.6667C4.43858 11.4389 4.43858 11.0696 4.66639 10.8418L7.80099 7.70715Z",fill:"#343434"})],-1)),Ae=[Be,Ve],Me={class:"create-order-page__container size-full"},je=n(()=>e("img",{class:"create-order-page__rotate",src:ue,alt:""},null,-1)),Pe={class:"create-order-page__card create-order-page__address flex flex-col"},Te={class:"flex gap-20 items-center w-full"},De=n(()=>e("span",{class:"create-order-page__address_circle"},null,-1)),Ne={class:"flex gap-20 items-center justify-between w-full"},Re=n(()=>e("span",{class:"create-order-page__address_btn"},"Подъезд",-1)),Oe=n(()=>e("div",{class:"flex gap-25 w-full"},[e("span",{class:"w-15"}),e("div",{class:"create-order-page__address_line"})],-1)),Ze={class:"flex gap-20 items-center w-full"},ze=n(()=>e("span",{class:"create-order-page__address_rect"},null,-1)),Ee={class:"flex gap-20 items-center justify-between w-full"},We={class:"flex flex-col gap-10"},Fe={class:"create-order-page__card"},qe={class:"flex gap-15 flex-col w-full",style:{"min-height":"0"}},Ge={class:"flex gap-10 justify-between"},He={class:"create-order-page__text font-700-36 max-h-70 auto-truncate"},Je={class:"create-order-page__text right font-400-32 truncate"},Ke={class:"flex gap-10 h-90 justify-between w-full"},Qe=["src"],Ue={class:"flex flex-col flex-end gap-30"},Xe={class:"create-order-page__text font-600-12 truncate"},Ye=n(()=>e("path",{d:"M22 11C22 17.0751 17.0751 22 11 22C4.92487 22 0 17.0751 0 11C0 4.92487 4.92487 0 11 0C17.0751 0 22 4.92487 22 11Z",fill:"#343434"},null,-1)),et=n(()=>e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0168 11.7071C12.4073 11.3166 12.4073 10.6834 12.0168 10.2929L8.33333 6.60948C8.07298 6.34913 8.07298 5.92702 8.33333 5.66667C8.59368 5.40632 9.01579 5.40632 9.27614 5.66667L13.9024 10.2929C14.2929 10.6834 14.2929 11.3166 13.9024 11.7071L9.27614 16.3333C9.01579 16.5937 8.59368 16.5937 8.33333 16.3333C8.07298 16.073 8.07298 15.6509 8.33333 15.3905L12.0168 11.7071Z",fill:"white"},null,-1)),tt=[Ye,et],st=n(()=>e("span",{class:"create-order-page__text font-500-12 truncate"},"Такси",-1)),lt=n(()=>e("span",{class:"create-order-page__text font-500-12 truncate"},"Доставка",-1)),ot=["src"],at={class:"flex gap-2 flex-col"},nt={class:"create-order-page__text font-400-12 truncate"},rt={class:"create-order-page__text font-700-12 truncate"},it={class:"create-order-page__card flex flex-col gap-20"},dt={class:"flex gap-2 flex-col"},ct=n(()=>e("span",{class:"create-order-page__text font-400-16 truncate"},"Комментарий водителю",-1)),_t={class:"create-order-page__text font-400-12 truncate"},pt=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.80099 7.70715C8.19151 7.31663 8.19151 6.68346 7.80099 6.29294L4.66639 3.15834C4.43858 2.93053 4.43858 2.56118 4.66639 2.33338C4.89419 2.10557 5.26354 2.10557 5.49134 2.33338L9.4509 6.29294C9.84143 6.68346 9.84143 7.31663 9.4509 7.70715L5.49134 11.6667C5.26354 11.8945 4.89419 11.8945 4.66639 11.6667C4.43858 11.4389 4.43858 11.0696 4.66639 10.8418L7.80099 7.70715Z",fill:"#343434"})],-1)),ut=n(()=>e("div",{class:"create-order-page__line"},null,-1)),ft={class:"flex gap-2 flex-col"},ht=n(()=>e("span",{class:"create-order-page__text font-400-16 truncate"},"Заказ другому человеку",-1)),vt={class:"create-order-page__text font-400-12 truncate"},gt=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.80099 7.70715C8.19151 7.31663 8.19151 6.68346 7.80099 6.29294L4.66639 3.15834C4.43858 2.93053 4.43858 2.56118 4.66639 2.33338C4.89419 2.10557 5.26354 2.10557 5.49134 2.33338L9.4509 6.29294C9.84143 6.68346 9.84143 7.31663 9.4509 7.70715L5.49134 11.6667C5.26354 11.8945 4.89419 11.8945 4.66639 11.6667C4.43858 11.4389 4.43858 11.0696 4.66639 10.8418L7.80099 7.70715Z",fill:"#343434"})],-1)),wt=n(()=>e("div",{class:"create-order-page__line"},null,-1)),mt=n(()=>e("span",{class:"create-order-page__text font-400-16 truncate"},"Запланировать поездку",-1)),xt=n(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.80099 7.70715C8.19151 7.31663 8.19151 6.68346 7.80099 6.29294L4.66639 3.15834C4.43858 2.93053 4.43858 2.56118 4.66639 2.33338C4.89419 2.10557 5.26354 2.10557 5.49134 2.33338L9.4509 6.29294C9.84143 6.68346 9.84143 7.31663 9.4509 7.70715L5.49134 11.6667C5.26354 11.8945 4.89419 11.8945 4.66639 11.6667C4.43858 11.4389 4.43858 11.0696 4.66639 10.8418L7.80099 7.70715Z",fill:"#343434"})],-1)),Ct=[mt,xt],kt={class:"create-order-page__wrapper pt-20 size-full"},bt={class:"flex items-center justify-between w-full"},yt={class:"font-400-16"},It=U({__name:"create-order-page",setup(C){const l=X(),p=Y(),d=ee(),W=S(()=>d.selectedAddresses.slice(1));g(0);const v=g(),k=g(!0),M=g(),$=g(),u=g(0),m=[{title:"Комментарий водителю",placeholder:"Комментарий водителю",onInput:o=>l.comment=o.target.value,value:S(()=>l.comment)},{title:"Кто поедет на такси?",placeholder:"Введите номер телефона",onInput:o=>l.phoneNumber=o.target.value,value:S(()=>l.phoneNumber)},{title:"Запланировать поездку",onInput:o=>l.orderTime=o},{title:"Дата и время поездки",onInput:o=>l.orderTime=o}],b=g(0);te();const j=g(),P={observer:!0,observeParents:!0,parallax:!0,slidesPerView:"auto",spaceBetween:10,freeMode:!0,mousewheel:!0},F=async()=>{const o=await v.value.$el.getCurrentBreakpoint();l.showTarifInfo=o>=.9},y=o=>{$.value.$el.present(),p.show=!1,u.value=o},q=()=>{if(d.selectedAddresses.length<3){l.activateInput=1,p.showPage("search-address");return}j.value.$el.present(),p.show=!1};function G(o){M.value=o}function H(){var s;const o=l.vehicles.findIndex(f=>f.id===l.selectedVehicle.id);o===-1||!l.vehicles[o+1]||(l.selectedVehicle=l.vehicles[o+1],(s=M.value)==null||s.slideTo(o))}const J=o=>{const s=d.selectedAddresses[o.detail.from+1],f=d.selectedAddresses[o.detail.to+1];d.selectedAddresses[o.detail.to+1]=s,d.selectedAddresses[o.detail.from+1]=f,o.detail.complete()};return se(async()=>{k.value=!0,v.value.$el.present(),l.modalEl=v.value.$el,p.toggle=o=>{var s,f;k.value=!o,p.show=!o,o?(s=v.value)==null||s.$el.dismiss():(f=v.value)==null||f.$el.present()},l.isLoaded||await l.getTariffs(),l.selectedVehicle=l.vehicles[0]||{}}),le(()=>{k.value=!1,l.showTarifInfo=!1,v.value.$el.dismiss()}),(o,s)=>{const f=B("ion-modal"),K=B("ion-content"),Q=B("ion-page");return c(),V(Q,null,{default:r(()=>[i(K,{fullscreen:!0},{default:r(()=>[e("div",ve,[i(f,{ref_key:"modalInput",ref:$,style:{"--height":"auto","--background":"transparnt","--box-shadow":"none"},"initial-breakpoint":1,breakpoints:[0,1],"backdrop-breakpoint":.3,onWillDismiss:s[3]||(s[3]=()=>t(p).show=!0)},{default:r(()=>{var a,h;return[e("div",ge,[e("div",we,[e("div",me,[e("span",xe,_((a=m[u.value])==null?void 0:a.title),1)]),u.value<2?(c(),w("div",Ce,[e("input",{class:"create-order-page__input create-order-page__text font-400-15 w-full",type:"text",placeholder:(h=m[u.value])==null?void 0:h.placeholder,value:m[u.value].value.value,onInput:s[0]||(s[0]=(...I)=>m[u.value].onInput&&m[u.value].onInput(...I))},null,40,ke)])):x("",!0),u.value===3?(c(),w("div",be,[i(t(ae),{class:"w-full",presentation:"date-time","prefer-wheel":!0,style:{"--background":"transparent","--background-rgb":"transparent","--wheel-highlight-background":"#f5f4f2"}})])):x("",!0),u.value!==2?(c(),w("div",ye,[i(t(ne),{class:"w-full",onClick:s[1]||(s[1]=I=>$.value.$el.dismiss())},{default:r(()=>[oe("Готово")]),_:1})])):x("",!0),u.value===2?(c(),w("div",Ie,[Le,$e,Se,e("div",{class:"flex justify-between items-center",onClick:s[2]||(s[2]=I=>y(3))},Ae)])):x("",!0)])])]}),_:1},512),i(f,{ref_key:"modal",ref:v,"is-open":!0,"initial-breakpoint":.505,breakpoints:[.505,.9],"backdrop-breakpoint":1,onDidDismiss:s[12]||(s[12]=()=>k.value&&v.value.$el.present()),onIonBreakpointDidChange:F},{default:r(()=>[e("div",Me,[i(t(re),{class:"create-order-page__back w-50 h-50",onClick:s[4]||(s[4]=a=>t(p).backPage())},{default:r(()=>[je]),_:1}),i(t(z),{class:"flex flex-col gap-10",height:"calc(90% - 95px)"},{default:r(()=>[e("div",Pe,[e("div",Te,[De,i(t(Z),{class:"w-full h-60 flex items-center rounded-10 pl-5 pr-5",onClick:s[5]||(s[5]=T(a=>{t(l).activateInput=0,t(p).showPage("search-address")},["prevent","stop"]))},{default:r(()=>{var a,h;return[e("div",Ne,[e("span",{class:"create-order-page__text font-400-16 truncate",style:D({opacity:(a=t(d).selectedAddresses[0])!=null&&a.city?1:.7})},_(((h=t(d).selectedAddresses[0])==null?void 0:h.city)||"Откуда едем"),5),Re])]}),_:1})]),Oe,e("div",Ze,[ze,i(t(Z),{class:"w-full h-60 flex items-center rounded-10 pl-5 pr-5",onClick:q},{default:r(()=>{var a,h;return[e("div",Ee,[e("span",{class:"create-order-page__text font-400-16 truncate",style:D({opacity:(a=t(d).selectedAddresses[t(d).selectedAddresses.length-1||1])!=null&&a.city?1:.7})},_(((h=t(d).selectedAddresses[t(d).selectedAddresses.length-1||1])==null?void 0:h.city)||"Куда едем"),5),i(t(he),{onClick:s[6]||(s[6]=T(I=>{t(l).activateInput=1,t(p).showPage("search-address")},["prevent","stop"]))})])]}),_:1})])]),e("div",We,[e("div",Fe,[t(l).selectedVehicle.id?(c(),w("div",{key:0,class:L(["create-order-page__tarif-info",{show:t(l).showTarifInfo}])},[e("div",qe,[e("div",Ge,[e("span",He,_(t(l).selectedVehicle.name),1),e("span",Je,_(t(l).selectedVehicle.min_price)+" с",1)]),e("div",Ke,[e("img",{class:"max-w-220 max-h-90",src:t(l).selectedVehicle.image,alt:""},null,8,Qe),e("div",Ue,[e("span",Xe,_(t(l).selectedVehicle.time||0)+" мин",1),(c(),w("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",onClick:H},tt))])])])],2)):x("",!0),i(t(E),N({class:"mt1-5 w-full"},P),{default:r(()=>[i(t(A),{class:L(["create-order-page__slide flex items-center w-auto pt-8 pb-8 pr-8 pl-8",{active:b.value===0}]),onClick:s[7]||(s[7]=a=>b.value=0)},{default:r(()=>[st]),_:1},8,["class"]),i(t(A),{class:L(["create-order-page__slide flex items-center w-auto pt-8 pb-8 pr-8 pl-8",{active:b.value===1}]),onClick:s[8]||(s[8]=a=>b.value=1)},{default:r(()=>[lt]),_:1},8,["class"])]),_:1},16),i(t(E),N({class:"w-full mt-10"},P,{onSwiper:G}),{default:r(()=>[(c(!0),w(O,null,R(t(l).vehicles,a=>(c(),V(t(A),{class:L(["create-order-page__slide p-8 flex flex-col gap-7 justify-between w-73 h-76",{active:t(l).selectedVehicle.id===a.id}]),key:a.id,onClick:h=>t(l).selectedVehicle=a},{default:r(()=>[e("img",{class:"max-w-35 max-h-20",src:a.icon,alt:""},null,8,ot),e("div",at,[e("span",nt,_(a.name),1),e("span",rt,_(a.min_price)+" с",1)])]),_:2},1032,["class","onClick"]))),128))]),_:1},16)]),e("div",it,[e("div",{class:"flex justify-between items-center",onClick:s[9]||(s[9]=a=>y(0))},[e("div",dt,[ct,e("span",_t,_(t(l).comment),1)]),pt]),ut,e("div",{class:"flex justify-between items-center",onClick:s[10]||(s[10]=a=>y(1))},[e("div",ft,[ht,e("span",vt,_(t(l).phoneNumber),1)]),gt]),wt,e("div",{class:"flex justify-between items-center",onClick:s[11]||(s[11]=a=>y(2))},Ct)])])]),_:1})])]),_:1},512),i(f,{ref_key:"reorderModal",ref:j,"initial-breakpoint":.75,breakpoints:[0,.75],"backdrop-breakpoint":0,onWillDismiss:s[14]||(s[14]=()=>t(p).show=!0)},{default:r(()=>[e("div",kt,[i(t(z),{class:"flex flex-col gap-10",height:"calc(75% - 95px)"},{default:r(()=>[i(t(ie),{disabled:!1,onIonItemReorder:s[13]||(s[13]=a=>J(a))},{default:r(()=>[(c(!0),w(O,null,R(W.value,a=>(c(),V(t(de),{key:a==null?void 0:a.id},{default:r(()=>[e("div",bt,[e("span",yt,_(a.city),1),i(t(ce))])]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1},512)])]),_:1})]),_:1})}}});const Vt=fe(It,[["__scopeId","data-v-72fbcb25"]]);export{Vt as default};
